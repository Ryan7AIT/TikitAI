<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DATAFIRST Chat</title>
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet" />
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        /* Custom scrollbar for chat */
        #chat-window::-webkit-scrollbar {
            width: 8px;
        }

        #chat-window::-webkit-scrollbar-track {
            background: transparent;
        }

        #chat-window::-webkit-scrollbar-thumb {
            background-color: #4b5563;
            /* gray-600 */
            border-radius: 4px;
        }

        /* Firefox */
        #chat-window {
            scrollbar-width: thin;
            scrollbar-color: #4b5563 transparent;
        }
    </style>
</head>

<body class="h-screen w-screen bg-gradient-to-b from-gray-900 to-gray-800 text-gray-200 flex">
    <div id="chat-app" class="flex w-full h-full overflow-hidden">
        <!-- Sidebar -->
        <aside id="sidebar"
            class="w-64 bg-gray-900/80 text-gray-200 h-full overflow-y-auto border-r border-gray-700 transition-all duration-300 flex flex-col">
            <div class="p-4 flex items-center justify-between border-b border-gray-700">
                <div class="flex items-center gap-2">
                    <button id="sidebar-toggle" class="text-gray-400 hover:text-gray-100 text-xl p-1">‚á§</button>
                    <span class="font-bold text-lg collapsible">DATAFIRST Chat</span>
                </div>
                <button id="new-conv-btn" class="text-emerald-400 text-xl leading-none collapsible">Ôºã</button>
            </div>
            <ul id="conv-list" class="flex-1 divide-y divide-gray-700 collapsible"></ul>
            <div class="p-4 border-t border-gray-700 collapsible">
                <a href="/login" class="text-emerald-400 hover:underline block">Admin Login</a>
            </div>
        </aside>


        <!-- Chat panel -->
        <div class="flex-1 flex flex-col items-center">
            <!-- Tiny title within chat area -->
            <div class="w-full max-w-2xl py-2 text-left text-gray-400 text-sm flex items-center gap-2">
                <span class="text-lg">üí¨</span>
                <span>DATAFIRST Support Assistant</span>
            </div>

            <!-- Chat messages -->
            <div id="chat-window" class="flex-1 w-full overflow-y-auto p-6 space-y-4">
                <!-- Messages will be appended here -->
            </div>
            <!-- Input area -->
            <div
                class="border-t border-gray-700 bg-gray-800/60 backdrop-blur-md px-4 py-3 w-full max-w-3xl mx-auto flex flex-col gap-2 rounded-t-lg shadow-lg">
                <!-- Toggle Button -->
                <div class="flex justify-end items-center">
                    <button id="toggle-model" class="text-sm text-gray-400 hover:text-gray-200 flex items-center gap-1">
                        ‚öôÔ∏è <span class="hidden sm:inline">Model</span>
                    </button>
                </div>

                <!-- Collapsible Model Selector -->
                <div id="model-selector-wrapper" class="hidden transition-all origin-bottom-left">
                    <select id="model-select"
                        class="mt-2 appearance-none pr-8 pl-3 py-2 rounded-md text-sm bg-gray-900 text-gray-200 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 shadow-lg">
                        <option value="model-a">ü¶ô Llama 3.2 8B</option>
                        <option value="model-b">ü§ñ GPT-4o Mini</option>
                        <option value="model-c">üß† Claude 3.5 Sonnet</option>
                    </select>
                </div>

                <!-- Input Row -->
                <div class="flex items-center gap-2 mt-2">
                    <input id="question-input" type="text" placeholder="Ask me anything..."
                        class="flex-grow px-4 py-2 rounded-md border border-gray-700 bg-gray-900 text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-emerald-500" />
                    <button id="send-btn"
                        class="shrink-0 bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 transition shadow-md">
                        Send
                    </button>
                </div>
            </div>

        </div>
    </div>

    <script defer src="/static/chat.js"></script>
</body>

</html>